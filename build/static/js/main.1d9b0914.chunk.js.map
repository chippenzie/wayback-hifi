{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["Filter","props","options","Object","keys","values","sort","map","v","value","htmlFor","id","label","onChange","filterFn","RemoteControl","state","filters","station","location","decade","genre","filterByStation","bind","filterByLocation","filterByDecade","filterByGenre","currentFilters","this","target","setState","stations","locations","decades","genres","streems","streams","length","i","st","filterUsed","url","title","airdate","onClick","play","React","Component","Radio","currentStream","playStream","fetch","then","response","ok","json","data","a","b","selectedUrl","document","querySelector","getStreamByUrl","console","log","Date","className","stream","Player","archiveSrc","urlFormatted","src","width","height","frameBorder","href","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1d9b0914.chunk.js","sourcesContent":["//import { render } from '@testing-library/react';\nimport React from 'react';\nimport './App.css';\n\n\nfunction Filter(props) {\n  let propValues = Object.keys(props.values).sort();\n  \n  let options = propValues.map((v) => {\n   // console.log('v', v, props.values[v]);\n    return(<option key={v} value={v}>{v} ({props.values[v]} streams)</option>);\n  });\n\n  return (\n    <div>\n      <label htmlFor={props.id}>\n        {props.label}\n      </label>\n      <select id={props.id} onChange={props.filterFn}>\n        <option value=\"\">Choose one</option>\n        {options}\n\n      </select>\n    </div>\n  );\n}\n\nclass RemoteControl extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filters: {\n        station: null,\n        location: null,\n        decade: null,\n        genre: null\n      }\n    }\n    this.filterByStation = this.filterByStation.bind(this);\n    this.filterByLocation = this.filterByLocation.bind(this);\n    this.filterByDecade = this.filterByDecade.bind(this);\n    this.filterByGenre = this.filterByGenre.bind(this);\n  }\n\n  filterByStation(v) {\n    let currentFilters = this.state.filters;\n    currentFilters.station = v.target.value;\n    this.setState({\n      filters: currentFilters\n    });\n  }\n  \n  filterByLocation(v) {\n    let currentFilters = this.state.filters;\n    currentFilters.location = v.target.value;\n    this.setState({\n      filters: currentFilters\n    });\n  }\n\n  filterByDecade(v) {\n    let currentFilters = this.state.filters;\n    currentFilters.decade = v.target.value;\n    this.setState({\n      filters: currentFilters\n    });\n  }\n\n  filterByGenre(v) {\n    let currentFilters = this.state.filters;\n    currentFilters.genre = v.target.value;\n    this.setState({\n      filters: currentFilters\n    });\n  }\n\n  render() {\n    let stations = {},\n        locations = {},\n        decades = {},\n        genres = {},\n        currentFilters = this.state.filters,\n        streems = 'ppp';\n\n    if (this.props.streams.length) {\n      for (let i=0; i < this.props.streams.length; i++) {\n        const st = this.props.streams[i];\n        if (stations[st.station]) {\n          stations[st.station]++;\n        } else {\n          stations[st.station] = 1\n        }\n        if (locations[st.location]) {\n          locations[st.location]++;\n        } else {\n          locations[st.location] = 1\n        }\n        if (decades[st.decade]) {\n          decades[st.decade]++;\n        } else {\n          decades[st.decade] = 1\n        }\n        if (genres[st.genre]) {\n          genres[st.genre]++;\n        } else {\n          genres[st.genre] = 1\n        }\n      }\n\n      let filters = ['station', 'location', 'decade', 'genre'],\n        filterUsed = false;\n      streems = this.props.streams;\n\n      for (let i=0; i<filters.length; i++) {\n        //console.log('check ', filters[i]);\n        if (currentFilters[filters[i]]) {\n          filterUsed = true;\n          streems = streems.map((st) => {\n            if ((st) && (st.url)) {\n              if ((st[filters[i]] === currentFilters[filters[i]])) {\n                //console.log('ass', st);\n                //const title = st.title ? st.title : st.station + ' ' + st.location + ' ' + st.airdate;\n                //return (<option value={st.url} key={st.url} >{title}</option>);\n                return st\n              }        \n            }\n          });\n        }\n      }\n\n      if (filterUsed) {\n        streems = streems.map((st) => {\n          if ((st) && (st.url)) {\n            const title = st.title ? st.title : st.station + ' ' + st.location + ' ' + st.airdate;\n\n            return (<option value={st.url} key={st.url} >{title}</option>);                    \n          } else {\n            return null;\n          }\n        });     \n      } else {\n        streems = [];\n      }\n\n    }\n\n    return (\n      <div>\n        <Filter id=\"station\" label=\"Station\" values={stations} filterFn={this.filterByStation} />\n        <Filter id=\"location\" label=\"Locations\" values={locations} filterFn={this.filterByLocation} />\n        <Filter id=\"decades\" label=\"Decade\" values={decades} filterFn={this.filterByDecade } />\n        <Filter id=\"genres\" label=\"Genre\" values={genres} filterFn={this.filterByGenre} />\n        <label htmlFor=\"streamDropdown\">Streams</label>\n        <select id=\"streamDropdown\">\n            {streems}                \n        </select>\n        <button onClick={() => this.props.play()} > Play </button>\n      </div>\n    )\n  }\n}\n\n\nclass Radio extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      streams: [],\n      currentStream: null\n    }\n    this.playStream = this.playStream.bind(this);\n  } \n  \n  componentDidMount() {\n    fetch('/wayback-hifi/build/data/streams.json').then(response => {\n      if (response.ok) {\n        return response.json(); \n      }\n      throw response;\n    }).then(data => {\n      this.setState({\n        streams: data.streams.sort((a,b) => {\n          return (a.airdate > b.airdate) ? 1 : -1\n        })\n      });\n    })\n  }\n  \n  getStreamByUrl(url) {\n    const streams = this.state.streams;\n    for (let i = 0; i < streams.length; i++) {\n      if (streams[i].url === url) {\n        return streams[i];\n      }\n    }\n  }\n\n  playStream() {\n    const selectedUrl = document.querySelector('#streamDropdown').value;\n    const currentStream = this.getStreamByUrl(selectedUrl);\n    this.setState({\n      currentStream: currentStream\n    })\n    console.log('play called', selectedUrl,  currentStream, new Date());\n  }\n\n  render() {\n    return(\n      <div className=\"radio\">\n        radio radio\n        <RemoteControl streams={this.state.streams} play={this.playStream}/>\n        <Player stream={this.state.currentStream} />\n      </div>\n    )\n  }\n}\n\nclass Player extends React.Component {\n  render() {\n    const currentStream = this.props.stream || {};\n    let archiveSrc = '';\n\n    if (currentStream.url) {\n      const urlFormatted = currentStream.url + '&autoplay=1';\n      archiveSrc = (<iframe src={urlFormatted} title=\"radioPlayer\" width=\"500\" height=\"210\" frameBorder=\"0\"></iframe>);\n    }\n\n    return(\n      <div>\n        <div>{archiveSrc}</div>\n        <a href={currentStream.url}>view on archive.org</a>\n      </div>\n    )   \n  }\n}\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <Radio />\n      </header>\n    </div>\n  );\n}\n\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}